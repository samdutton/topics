<!-- Copyright 2022 Google LLC.
SPDX-License-Identifier: Apache-2.0 -->

<!DOCTYPE html>
<html lang="en">
  
  <head>
    <title>Topics fetch demo</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/main.css">
    <link href="favicon.ico" rel="shortcut icon">
    <script src="js/main.js" defer></script>
  </head>

  <body>

    <main>
    
      <h1>↩️ Topics fetch request header demo</h1>
            
      <p>This site is part of a Topics API demo that shows how topics can be marked as observed, and then accessed, by using a `fetch()` request.</p>
      
      <p>Code in <a href="js/main.js">js/main.js</a> makes the following request every two seconds:</p>
      
      <blockquote><pre>fetch('https://topics-demo.glitch.me/send-topics', 
  {browsingTopics: true});</pre></blockquote>
      
      <p>The response from the service running at <a href="https://topics-server.glitch.me">topics-server.glitch.me</a> includes the request headers in the body, and an <code>Observe-Browsing-Topics: ?1</code> header. This header instructs the browser that the topics provided in the <code>fetch()</code> request <code>Sec-Browsing-Topics</code> header should be used for topics calculation.</p>
      
      <p>If a request includes topics (which will happen if topics have been observed by code whose origin is topics-demo.glitch.me) the topics will be displayed below.</p>
    
    </main>
      
  </body>

</html>